Version 4
SHEET 1 1028 680
WIRE 304 16 64 16
WIRE 304 32 304 16
WIRE 256 48 224 48
WIRE -448 64 -448 32
WIRE -480 80 -656 80
WIRE -288 96 -416 96
WIRE -272 96 -288 96
WIRE -176 96 -192 96
WIRE -128 96 -176 96
WIRE -480 112 -576 112
WIRE 64 112 64 16
WIRE -288 128 -288 96
WIRE -272 128 -288 128
WIRE -176 128 -176 96
WIRE -176 128 -208 128
WIRE -448 144 -448 128
WIRE 304 144 304 128
WIRE 416 144 304 144
WIRE 528 144 496 144
WIRE 688 144 528 144
WIRE -736 160 -736 128
WIRE -656 160 -656 80
WIRE -576 160 -576 112
WIRE 304 176 304 144
WIRE 528 192 528 144
WIRE 688 192 688 144
WIRE -736 256 -736 240
WIRE -656 256 -656 240
WIRE -576 256 -576 240
WIRE 64 320 64 192
WIRE 304 320 304 240
WIRE 528 320 528 256
WIRE 688 320 688 272
FLAG 64 320 0
FLAG 304 320 0
FLAG 528 320 0
FLAG 688 320 0
FLAG 64 16 VIN
FLAG 688 144 VOUT
FLAG 224 48 PWM
FLAG -576 256 0
FLAG -656 256 0
FLAG -448 144 0
FLAG -128 96 PWM
FLAG -448 32 VIN
FLAG -736 256 0
FLAG -736 128 ERROR
SYMBOL voltage 64 96 R0
WINDOW 0 -82 41 Left 2
WINDOW 3 -82 66 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL ind 400 160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100µ
SYMATTR SpiceLine Rser=0.05
SYMBOL polcap 512 192 R0
WINDOW 3 24 56 Left 2
SYMATTR InstName C1
SYMATTR Value 100µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=16 Irms=360m Rser=0.157 Lser=3n mfg="Würth Elektronik" pn="860080373005 WCAP-ATLI 6,3x11" type="Al electrolytic"
SYMBOL voltage -576 144 R0
WINDOW 0 11 13 Left 2
WINDOW 3 -191 225 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 6 0 5u 5u 0 10u)
SYMBOL pmos 256 128 M180
SYMATTR InstName M1
SYMATTR Value IRF9640
SYMBOL diode 320 240 R180
WINDOW 0 -46 32 Left 2
WINDOW 3 -88 4 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 672 176 R0
SYMATTR InstName R1
SYMATTR Value {RX}
SYMBOL Comparators\\LTC6752 -448 32 R0
SYMATTR InstName U1
SYMBOL bv -656 144 R0
WINDOW 0 8 10 Left 2
WINDOW 3 -111 193 Left 2
SYMATTR InstName B1
SYMATTR Value V={KP}*V(ERROR) + {KI}*idt(V(ERROR))
SYMBOL bv -736 144 R0
WINDOW 0 16 8 Left 2
WINDOW 3 -32 161 Left 2
SYMATTR InstName B2
SYMATTR Value V={SP} - V(VOUT)
SYMBOL res -176 80 R90
WINDOW 0 -39 72 VBottom 2
WINDOW 3 -40 76 VTop 2
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL diode -272 144 R270
WINDOW 0 -29 6 VTop 2
WINDOW 3 -32 33 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
TEXT 32 376 Left 2 !.tran 0 1 0 1u startup
TEXT 448 408 Left 2 !.meas Power_IN AVG -I(V1)*V(VIN)
TEXT 448 504 Left 2 !.step param RX 5 30 5
TEXT 448 472 Left 2 !.param SP=5 KP=1.2 KI=20
TEXT 448 376 Left 2 !.meas Power_OUT AVG I(R1)*V(VOUT)
TEXT 448 440 Left 2 !.meas Efficient param Power_OUT/Power_IN
